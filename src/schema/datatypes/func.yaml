---
# First group
- suffixes:
    - optional: bold
    - optional: cbv
    - optional: phase
    - optional: sbref
  extensions:
    - required:
        oneOf:
          - .nii.gz
          - .nii
    - optional:
        - .json
  entities:
    - required:
        - subject
        - task
    - optional:
        - session
        - task
        - acquisition
        - ceagent
        - reconstruction
        - direction
        - run
        - echo
  metadata:
    @metadata-mri
    - required:
      # Only certain combinations of the following timing parameters are allowed.
      - oneOf:
          - required: RepetitionTime
            allOf:
              - not:
                  required: AcquisitionDuration
              - not:
                  required: VolumeTiming
          - allOf:
              - required: SliceTiming
              - required: VolumeTiming
            allOf:
              - not:
                  required: RepetitionTime
              - not:
                  required: DelayTime
          - allOf:
              - required: AcquisitionDuration
              - required: VolumeTiming
            allOf:
              - not:
                  required: RepetitionTime
              - not:
                  required: DelayTime
          - allOf:
              - required: RepetitionTime
              - required: DelayTime
            allOf:
              - not:
                  required: AcquisitionDuration
              - not:
                  required: VolumeTiming
    - required: TaskName
    - recommended: NumberOfVolumesDiscardedByScanner
    - recommended: NumberOfVolumesDiscardedByUser
    - recommended: DelayAfterTrigger
    - recommended: Instructions
    - recommended: TaskDescription
    - recommended: CogAtlasID
    - recommended: CogPOID
# Second group
- suffixes:
    - events
  extensions:
    - .tsv
    - .json
  entities:
    subject: required
    session: optional
    task: required
    acquisition: optional
    ceagent: optional
    reconstruction: optional
    direction: optional
    run: optional
    echo: optional
# Third group
- suffixes:
    - physio
    - stim
  extensions:
    - .tsv.gz
    - .json
  entities:
    subject: required
    session: optional
    task: required
    acquisition: optional
    reconstruction: optional
    run: optional
    recording: optional
